<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Change email template | Mark Health Api Documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="Mark Health Developer Portal">
    
    <link rel="preload" href="/assets/css/0.styles.7e612dfc.css" as="style"><link rel="preload" href="/assets/js/app.e5bb9ed1.js" as="script"><link rel="preload" href="/assets/js/2.7d56483b.js" as="script"><link rel="preload" href="/assets/js/14.c44015cf.js" as="script"><link rel="prefetch" href="/assets/js/10.a518384a.js"><link rel="prefetch" href="/assets/js/11.2efa57d1.js"><link rel="prefetch" href="/assets/js/12.b8bc02b2.js"><link rel="prefetch" href="/assets/js/13.7a781a39.js"><link rel="prefetch" href="/assets/js/15.f39be97e.js"><link rel="prefetch" href="/assets/js/16.d3ba527e.js"><link rel="prefetch" href="/assets/js/17.a59caefb.js"><link rel="prefetch" href="/assets/js/18.3cac8ecb.js"><link rel="prefetch" href="/assets/js/19.b2686cc6.js"><link rel="prefetch" href="/assets/js/20.37e17a9d.js"><link rel="prefetch" href="/assets/js/21.87a9daae.js"><link rel="prefetch" href="/assets/js/22.b25818a0.js"><link rel="prefetch" href="/assets/js/23.01f0039e.js"><link rel="prefetch" href="/assets/js/24.d018499a.js"><link rel="prefetch" href="/assets/js/25.e3be74de.js"><link rel="prefetch" href="/assets/js/26.cc1db572.js"><link rel="prefetch" href="/assets/js/27.76ec1dae.js"><link rel="prefetch" href="/assets/js/28.0d16941b.js"><link rel="prefetch" href="/assets/js/29.f62faf2c.js"><link rel="prefetch" href="/assets/js/3.d30a7d54.js"><link rel="prefetch" href="/assets/js/30.b41acf59.js"><link rel="prefetch" href="/assets/js/31.a00c1363.js"><link rel="prefetch" href="/assets/js/32.e4e7af63.js"><link rel="prefetch" href="/assets/js/33.d0c616c9.js"><link rel="prefetch" href="/assets/js/34.fc65fe49.js"><link rel="prefetch" href="/assets/js/35.ff486669.js"><link rel="prefetch" href="/assets/js/36.76b5cf36.js"><link rel="prefetch" href="/assets/js/37.a24089b6.js"><link rel="prefetch" href="/assets/js/38.ce696304.js"><link rel="prefetch" href="/assets/js/39.4ca3e2c0.js"><link rel="prefetch" href="/assets/js/4.d784c68b.js"><link rel="prefetch" href="/assets/js/40.b7175e7a.js"><link rel="prefetch" href="/assets/js/41.0429d052.js"><link rel="prefetch" href="/assets/js/42.d782668a.js"><link rel="prefetch" href="/assets/js/43.34f6e12e.js"><link rel="prefetch" href="/assets/js/44.9bf39ba1.js"><link rel="prefetch" href="/assets/js/45.54bdb3e6.js"><link rel="prefetch" href="/assets/js/46.fd32df4a.js"><link rel="prefetch" href="/assets/js/47.723b5f5a.js"><link rel="prefetch" href="/assets/js/48.5f1fe0d8.js"><link rel="prefetch" href="/assets/js/49.64da311f.js"><link rel="prefetch" href="/assets/js/5.ffce0694.js"><link rel="prefetch" href="/assets/js/50.b8f246e0.js"><link rel="prefetch" href="/assets/js/51.654331ac.js"><link rel="prefetch" href="/assets/js/52.099c9bb0.js"><link rel="prefetch" href="/assets/js/53.c14009ef.js"><link rel="prefetch" href="/assets/js/54.039e2578.js"><link rel="prefetch" href="/assets/js/55.270cc2c8.js"><link rel="prefetch" href="/assets/js/6.d9fd4a1e.js"><link rel="prefetch" href="/assets/js/7.1d4cca15.js"><link rel="prefetch" href="/assets/js/8.7e0e95d4.js"><link rel="prefetch" href="/assets/js/9.c1c783ff.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7e612dfc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Mark Health Api Documentation" class="logo"> <span class="site-name can-hide">Mark Health Api Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/1.x/api" class="sidebar-heading clickable open"><span>Marl Health  API</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/1.x/api/getting-started-with-the-api.html" class="sidebar-link">Authentication</a></li><li><a href="/1.x/api/customers.html" class="sidebar-link">Customers</a></li><li><a href="/1.x/api/locales.html" class="sidebar-link">Locales</a></li><li><a href="/1.x/api/addresses.html" class="sidebar-link">Addresses</a></li><li><a href="/1.x/api/products.html" class="sidebar-link">Products</a></li><li><a href="/1.x/api/categories.html" class="sidebar-link">Categories</a></li><li><a href="/1.x/api/attributes.html" class="sidebar-link">Attributes</a></li><li><a href="/1.x/api/attribute-families.html" class="sidebar-link">Attribute Families</a></li><li><a href="/1.x/api/cart.html" class="sidebar-link">Shopping Cart</a></li><li><a href="/1.x/api/orders.html" class="sidebar-link">Orders</a></li><li><a href="/1.x/api/invoices.html" class="sidebar-link">Invoices</a></li><li><a href="/1.x/api/shipments.html" class="sidebar-link">Shipments</a></li><li><a href="/1.x/api/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/1.x/api/reviews.html" class="sidebar-link">Reviews</a></li><li><a href="/1.x/api/wishlists.html" class="sidebar-link">Wishlists</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="change-email-template"><a href="#change-email-template" class="header-anchor">#</a> Change email template</h1> <p>In this section, we are explaining how to change the email templates in Bagisto. As we all know, everyone wants some customization according to their own taste that's why knowing about changing the email template is also quite helpful for some users.</p> <h2 id="email-template-flow"><a href="#email-template-flow" class="header-anchor">#</a> Email template flow</h2> <p>Before diving into template change first we should know how the email template works in the Bagisto.</p> <p>There are several mail notification classes like <code>CancelOrderAdminNotification</code>, <code>NewCustomerNotification</code>, and many more present in the <code>Webkul\Admin\Mail</code> namespace. Let's check one of these files, we are taking <code>CancelOrderAdminNotification</code> class as an example.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Webkul<span class="token punctuation">\</span>Admin<span class="token punctuation">\</span>Mail</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Bus<span class="token punctuation">\</span>Queueable</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Mail<span class="token punctuation">\</span>Mailable</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Queue<span class="token punctuation">\</span>SerializesModels</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">CancelOrderAdminNotification</span> <span class="token keyword">extends</span> <span class="token class-name">Mailable</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Queueable</span><span class="token punctuation">,</span> SerializesModels<span class="token punctuation">;</span>

    <span class="token comment">/**
     * Order.
     *
     * @var \Webkul\Sales\Contracts\Order
     */</span>
    <span class="token keyword">public</span> <span class="token variable">$order</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Constructor.
     *
     * @param  \Webkul\Sales\Contracts\Order  $order
     * @return void
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$order</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">order</span> <span class="token operator">=</span> <span class="token variable">$order</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token function">core</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getSenderEmailDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">core</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getSenderEmailDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token function">core</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getAdminEmailDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">subject</span><span class="token punctuation">(</span><span class="token function">trans</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'shop::app.mail.order.cancel.subject'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'shop::emails.sales.order-cancel-admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>If you check the <code>build()</code> method in the above class. You will come to know that the main view file i.e. <code>view('shop::emails.sales.order-cancel-admin')</code> is loaded from the shop package.</p> <p>Now check the view file mentioned in the <code>view('shop::emails.sales.order-cancel-admin')</code> method. If you check at this path <code>packages/Webkul/Shop/src/Resources/views/emails/sales/order-cancel-admin.blade.php</code>, you will get this file. Let's explore this one, if you check this file you will come to know that the main layout component i.e. <code>shop::emails.layouts.master</code> is used.</p> <div class="language-php extra-class"><pre class="language-php"><code>@<span class="token function">component</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'shop::emails.layouts.master'</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
@endcomponent
</code></pre></div><p>And this is responsible for your layouts. You can also explore that file if you want. Now we will move on to how to change these layouts.</p> <h2 id="changing-email-template"><a href="#changing-email-template" class="header-anchor">#</a> Changing email template</h2> <p>Now, we are changing the template. The recommended way to change the template is by overriding the package's view. If you check the above flow you will come to know that all views for emails are defined in the shop package. So we need to override the view for the shop package.</p> <p>Let's override the view of the same file which we explained above i.e. <code>view('shop::emails.sales.order-cancel-admin')</code>.</p> <p>As this is a Laravel stuff, Bagisto also registers two locations for your views i.e. the application's <code>resources/themes</code> directory mentioned in the <code>config/themes.php</code> and the directory you specify. So, if you are using the <code>default</code> theme i.e. <code>shop</code> package, then Bagisto will first check if a custom version of the view has been placed in the <code>resources/themes/default</code> directory. Then, if the view has not been customized, Bagisto will search the package view directory.</p> <p>Now, for overriding we are creating the same structure in the application's <code>resources/themes/default</code> directory.</p> <div class="language-directory-structure extra-class"><pre class="language-text"><code>- resources/
  - themes/
    - default/
      - views/
        - emails/
          - sales/
            - order-cancel-admin.blade.php
</code></pre></div><p>Let's say this file i.e. <code>order-cancel-admin.blade.php</code> is having some random paragraphs like below,</p> <div class="language-order-cancel-admin.blade.php extra-class"><pre class="language-text"><code>...

Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum porro cumque numquam neque dicta quo, accusantium, perferendis sed beatae nesciunt eum impedit vel doloribus dolor excepturi vero tenetur perspiciatis saepe?

...
</code></pre></div><p>Now, test the mail.</p> <h2 id="mail-sample"><a href="#mail-sample" class="header-anchor">#</a> Mail Sample</h2> <p><img src="/assets/img/mail-sample.6aa3d730.png" alt="Mail Sample"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/26/2021, 5:41:30 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e5bb9ed1.js" defer></script><script src="/assets/js/2.7d56483b.js" defer></script><script src="/assets/js/14.c44015cf.js" defer></script>
  </body>
</html>
